<mat-card class="result-card">
  <div class="results" *ngIf="percentage | async as pct">
      <mat-progress-bar [value]="pct" max="100"></mat-progress-bar>
      {{ pct | number }}%
    </div>
    
    
    
    <div class="results" *ngIf="snapshot | async as snap">
    
      {{ snap.bytesTransferred }} of {{ snap.totalBytes }} 
    
      <div *ngIf="downloadURL as url">
        <img style="max-width: 400px; max-height: 300px" [src]="url"><br>
  <!--<a [href]="url" target="_blank" rel="noopener">Télécharger</a>-->  
      </div> 
    
      <div class="results-button">
      <button mat-flat-button (click)="task.pause()" [disabled]="!isActive(snap)">Pause</button>
      <button mat-flat-button (click)="task.cancel()" [disabled]="!isActive(snap)">Cancel</button>
      <button mat-flat-button (click)="task.resume()" [disabled]="!(snap?.state === 'paused')">Resume</button>
    </div>
    </div>
</mat-card>